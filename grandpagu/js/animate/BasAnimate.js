BasAnimate = function (a) { this.Name = a || "", this.IsAutoRun = !1, this.OnInit = null, this.OnStart = null, this.OnStop = null, this.OnPause = null, this.OnResume = null, this.OnExitScene = null, this.Init = function () { null != this.OnInit && this.OnInit() }, this.Start = function () { null != this.OnStart ? this.OnStart() : this.OnComplete() }, this.Stop = function () { null != this.OnStop && this.OnStop() }, this.Pause = function () { null != this.Pause && this.Pause() }, this.Resume = function () { null != this.Resume && this.Resume() }, this.ExitScene = function () { null != this.OnExitScene && this.OnExitScene() }, this.OnComplete = function () { } }, EasyAnimate = function (a, b, c, d, e) { BasAnimate.call(this, e), 1 == d && (this.IsAutoRun = !0), this.initClassName = "", this.loopInitStyle = "", this.isStart = !0, this._cfgs = b, this.loopIndex = 0, this.OnInit = function () { 0 == d ? ($(a).attr("style", c), "" != this.initClassName && $(a).attr("class", this.initClassName)) : !this.isStart && this._animateLen > 1 && $(a).attr("style", this.loopInitStyle), this.loopIndex = 0, this.isStart = !0 }, this.OnStart = function () { var c, b = this; b._animateLen = b._cfgs.length, b.isStart = !0, "" == this.initClassName && (this.initClassName = $(a).attr("class")), c = function (e, f) { function l() { b.isStart && (f < b._animateLen - 1 ? (b.loopIndex++, c(b._cfgs, b.loopIndex)) : 1 == d ? ("" != b.initClassName && $(a).attr("class", b.initClassName), b.loopIndex = 0, c(b._cfgs, b.loopIndex)) : b.OnComplete()) } var g = e[f], h = $(a), i = {}, j = 800, k = ""; this.Run = function (a) { a ? h.animate(i, { easing: k, duration: j, complete: function () { l() } }) : h.addClass(i, j, k, function () { l() }) }, "object" == $.type(g) ? "object" == $.type(g.styles) ? (i = g.styles, j = g.speed, k = g.easing) : (i = b._cfgs[0] || i, j = b._cfgs[1] || j, k = b._cfgs[2] || k, b._animateLen = 1) : "array" == $.type(g) ? (i = g[0] || i, j = g[1] || j, k = g[2] || k) : Cmn.Log("简易动画配置错误！action type:" + $.type(g)), "object" == $.type(i) ? this.Run(!0) : "string" == $.type(i) ? this.Run(!1) : Cmn.Log("简易动画配置错误！action styles type:" + $.type(g)) }, c(b._cfgs, b.loopIndex) }, this.OnStop = function () { this.isStart = !1, $(a).stop(!0, !0), 1 == d && this._animateLen > 1 && (this.loopInitStyle = $(a).attr("style"), this.loopIndex < this._animateLen - 1 && this.loopIndex++) }, this.OnComplete = function () { } };